<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie10 lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie10 lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie10 lt-ie9"> <![endif]-->
<!--[if IE 9]>    <html class="no-js lt-ie10"> <![endif]-->
<!--[if IE 10]>   <html class="no-js ie10"> <![endif]-->
<!--[if gt IE 9]><!-->
<html class='no-js'>
  <!--<![endif]-->
  <head>
    <meta charset='utf-8' />
    <meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible' />
    <title>
      Modals
      - HowAboutWe Couples Style Guide
    </title>
    <meta content='' name='description' />
    <meta content='width=device-width' name='viewport' />
    <link href='stylesheets/application.css' rel='stylesheet' />
    <script src='javascripts/modernizr.custom.08494.js'></script>

  </head>
  <body>
    <div id='main' role='main'>
      <header class='clearfix' role='banner'>
        <a class='headerStyledLink' href='#'>My Date Book</a>
        <a class='headerStyledLink' href='#'>How It Works</a>
        <h1 class='mainLogo'>
          <a href='#'>HowAboutWe&hellip; for Couples</a>
        </h1>
        <nav class='flyoutMenu'>
          Alexandra &amp; Alexander
          <span class='icon-down-pointing-right-angle'>
            <span class='hidden'>Options</span>
          </span>
          <div class='drawer'>
            <ul>
              <li>
                <a href='#'>Edit Account</a>
              </li>
              <li>
                <a href='#'>Subscribe Now</a>
              </li>
              <li>
                <a href='#'>Log Out</a>
              </li>
            </ul>
          </div>
        </nav>
      </header>
      <div class='modal'>
        <header>
          <h1 class='serif'>This is a modal</h1>
        </header>
        <p>It has some text.</p>
        <a class='openModal' data-modal='2' href='#'>Click here</a>
        <br />
        <a class='openModal' data-modal='3' href='#'>2-column Modal</a>
      </div>
      <div class='modalBackground' id='modal3'>
        <div class='clearfix columnContainer patternDark grid28 modal'>
          <div class='paddedThick shadowed patternLight grid20 column'>
            <header>
              <h2 class='sansSerif'>Subheader Here</h2>
              <h1 class='serif'>Header Here</h1>
            </header>
            <p>
              This is a modal that has two columns. More content, too.
              This is a modal that has two columns. More content, too.
              This is a modal that has two columns. More content, too.
              This is a modal that has two columns. More content, too.
              This is a modal that has two columns. More content, too.
              This is a modal that has two columns. More content, too.
              This is a modal that has two columns. More content, too.
            </p>
          </div>
          <aside class='paddedThick grid8 column'>
            <header>
              <h2 class='sansSerif'>Subheader Here</h2>
              <h1 class='serif'>Header Here</h1>
            </header>
            <p>This is a modal that has two columns.</p>
          </aside>
        </div>
      </div>
      <div class='modalBackground' id='modal2'>
        <div class='modal'>
          <header>
            <h1 class='serif'>This is a modal with a background</h1>
          </header>
          <div class='icon-cancel-x closeModal'>
            <div class='hidden'>Close this modal</div>
          </div>
          <p>These modals with translucent backgrounds are hidden by default.</p>
        </div>
      </div>
    </div>
    <script src='//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js'></script>
    <script type='text/javascript'>
  //<![CDATA[
    $(function() {
      var closeModal = function($modal) {
        $modal.fadeOut();
      };

      var offsetModals = function ($modal) {
        var verticalOffset;
        function offsetThis($selector, offset) {
          $selector.css({
            'margin-top': offset.top + 'px',
            'margin-left': offset.left + 'px'
          });
        }
        if ($modal) {
          offsetThis($modal, ($modal.outerHeight()/2) * -1);
        } else {
          $('.modal').each(function() {
            var $self = $(this);

            offsetThis($(this), {
              top: ($(this).outerHeight()/2) * -1,
              left: ($(this).outerWidth()/2) * -1
            });
          });
        }
      };

      offsetModals();

      $('.openModal').click(function(e) {
        e.preventDefault();

        var $modal = $('#modal' + $(this).data('modal'));

        $modal.fadeIn();

        setTimeout(function() {
          offsetModals($modal.find('.modal'));
        }, 25);

        $('.closeModal').click(function() {
          closeModal($(this).closest('.modalBackground'));
        });

        $('.modalBackground').click(function(e) {
          if ($(e.target).is('.modalBackground')) {
            closeModal($(this));
          }
        });
      });
    });
  //]]>
</script>
    <script type='text/javascript'>
      //<![CDATA[
        $(function() {
          $(document).delegate('.flyoutMenu', 'click', function(e) {
            e.preventDefault();
            $(this).toggleClass('opened');
          });
        });
      //]]>
    </script>
  </body>
</html>
